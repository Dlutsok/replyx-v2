# ========================================
# ChatAI - Unified Environment Configuration
# ========================================
# –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –≤—Å–µ—Ö env –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
# –°–æ–∑–¥–∞–Ω: 2025-08-17 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
# ========================================

# ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò ‚ö†Ô∏è
# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ó–ê–ú–ï–ù–ò–¢–ï –≤—Å–µ placeholder –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–Ω–æ–º!
# –û—Å–æ–±–µ–Ω–Ω–æ: API –∫–ª—é—á–∏, –ø–∞—Ä–æ–ª–∏, —Å–µ–∫—Ä–µ—Ç—ã

# ========================================
# üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø
# ========================================

# –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ò–ó–ú–ï–ù–ò–¢–¨!)
SECRET_KEY=VeV99d7fKrt96orJG5a6xtU2CbyS1tgBW07qoDX0rfA
JWT_SECRET_KEY=YIeQONg_SwNL5RBVjmUsjgf7nTQ-5FAUx0lgHS8RLzY
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
SITE_SECRET=your-site-secret-key

# ========================================
# üåç –û–ö–†–£–ñ–ï–ù–ò–ï –ò –î–û–ú–ï–ù–´
# ========================================

# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
ENVIRONMENT=development
DEBUG=true
NODE_ENV=development

# –î–æ–º–µ–Ω—ã (development/production)
DOMAIN=localhost
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000
PUBLIC_URL=http://127.0.0.1

# Next.js –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_FRONTEND_URL=http://localhost:3000

# Workers API URL (–¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ backend –≤ —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥–∞—Ö)
BACKEND_API_URL=http://localhost:8000

# OAuth redirect URLs
YANDEX_REDIRECT_URI=http://localhost:8000/api/auth/yandex/callback
FRONTEND_REDIRECT_URL=http://localhost:3000/oauth-redirect

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3002,http://localhost:8000

# ========================================
# üóÑÔ∏è –ë–ê–ó–ê –î–ê–ù–ù–´–•
# ========================================

# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL
DB_HOST=localhost
DB_PORT=5432
DB_NAME=chat_ai
DB_USER=postgres
DB_PASSWORD=your-db-password
DB_SSL_MODE=prefer
DATABASE_URL=postgresql://postgres:your-db-password@localhost:5432/chat_ai

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
POSTGRES_DB=chatai_production
POSTGRES_USER=chatai
POSTGRES_PASSWORD=change_me

# –ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –ë–î
DB_POOL_SIZE=50
DB_MAX_OVERFLOW=100
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_ECHO=false

# ========================================
# üî¥ REDIS –ò –ö–ï–®–ò–†–û–í–ê–ù–ò–ï
# ========================================

REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=strong_pass

# Rate limiting Redis
RATE_LIMIT_REDIS_URL=redis://localhost:6379/1

# ========================================
# ü§ñ AI –ü–†–û–í–ê–ô–î–ï–†–´
# ========================================

# OpenAI
OPENAI_API_KEY=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

# üåê –ü–†–û–ö–°–ò –î–õ–Ø OPENAI (–æ–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –†–§)
OPENAI_PROXY_URL=http://GunetAyL:a7SdSv3i@154.196.24.180:63872
# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π SOCKS5 –ø—Ä–æ–∫—Å–∏
# OPENAI_PROXY_URL=socks5://GunetAyL:a7SdSv3i@154.196.24.180:63873

# –î—Ä—É–≥–∏–µ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
ANTHROPIC_API_KEY=your-anthropic-api-key-here
AI_PROXY_URL=

# Yandex AI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# YANDEX_API_KEY=your-yandex-api-key
# YANDEX_FOLDER_ID=your-yandex-folder-id

# GigaChat (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# GIGACHAT_CLIENT_ID=your-gigachat-client-id
# GIGACHAT_CLIENT_SECRET=your-gigachat-client-secret

# Claude (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# CLAUDE_API_KEY=your-claude-api-key

# Local LLM (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# LOCAL_LLM_URL=http://localhost:11434

# Circuit Breaker –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
AI_CB_FAILURE_THRESHOLD=3
AI_CB_RESET_TIMEOUT=60

# Retry –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
AI_RETRY_MAX_ATTEMPTS=3
AI_RETRY_BASE_DELAY=0.5

# AI Token —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
AI_TOKEN_POOL_SIZE=10

# ========================================
# üîë OAUTH –ü–†–û–í–ê–ô–î–ï–†–´
# ========================================


# Yandex OAuth
YANDEX_CLIENT_ID=your-new-yandex-client-id
YANDEX_CLIENT_SECRET=your-new-yandex-client-secret

# ========================================
# üìß EMAIL –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
# ========================================

# SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ä–µ–∑–µ—Ä–≤–Ω—ã–µ)
SMTP_HOST=smtp.yandex.ru
SMTP_PORT=465
SMTP_USER=dlutsok14@yandex.ru
SMTP_PASSWORD=goumwxkeilbcrrdo
SMTP_USERNAME=dlutsok14@yandex.ru
FROM_EMAIL=dlutsok14@yandex.ru

# Yandex SMTP
YANDEX_SMTP_USER=dlutsok14@yandex.ru
YANDEX_SMTP_PASS=goumwxkeilbcrrdo

# ========================================
# ü§ñ TELEGRAM –ë–û–¢–´
# ========================================

TELEGRAM_BOT_TOKEN=your-telegram-bot-token
BOT_SERVICE_URL=http://localhost:3002

# ========================================
# üîí RATE LIMITING –ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨
# ========================================

RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=3600

# SSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞)
SSL_REDIRECT=false
SECURE_COOKIES=false

# ========================================
# üìÅ –§–ê–ô–õ–´ –ò –ó–ê–ì–†–£–ó–ö–ò
# ========================================

MAX_FILE_SIZE=10485760
MAX_FILE_SIZE_MB=50
UPLOAD_DIR=./uploads
ALLOWED_FILE_EXTENSIONS=pdf,docx,txt,md

# ========================================
# üîß –°–ï–†–í–ï–† –ò –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨
# ========================================

HOST=0.0.0.0
PORT=8000
WORKERS=4

# ========================================
# üìà –õ–û–ì–ò–†–û–í–ê–ù–ò–ï –ò –ú–û–ù–ò–¢–û–†–ò–ù–ì
# ========================================

LOG_LEVEL=INFO
LOG_FILE=./data/logs/api.log

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞)
HEALTH_URL=http://localhost:8000/health
FASTAPI_HEALTH_URL=http://localhost:8000/health
BOT_MANAGER_URL=http://localhost:3001/workers
MONITOR_INTERVAL=30
MAX_FAILURES=3
RESTART_COOLDOWN=60
MAX_MEMORY_MB=1024
MAX_CPU_PERCENT=90

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ë–î
DB_CONNECTION_THRESHOLD=0.8
DB_SLOW_QUERY_THRESHOLD=5.0
DB_DEADLOCK_THRESHOLD=5
DB_CACHE_HIT_THRESHOLD=0.95
DB_DISK_USAGE_THRESHOLD=0.85

# ========================================
# üóÑÔ∏è –†–ï–ó–ï–†–í–ù–û–ï –ö–û–ü–ò–†–û–í–ê–ù–ò–ï
# ========================================

BACKUP_DIR=./data/backups
MAX_LOCAL_BACKUPS=7
MAX_WEEKLY_BACKUPS=4
MAX_MONTHLY_BACKUPS=12

# S3 –±—ç–∫–∞–ø—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
S3_BACKUP_ENABLED=false
S3_BACKUP_BUCKET=chatai-backups
S3_BACKUP_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

# ========================================
# üéØ –ë–ò–ó–ù–ï–° –õ–û–ì–ò–ö–ê
# ========================================

# Trial —Å–∏—Å—Ç–µ–º–∞
TRIAL_DURATION_DAYS=7
TRIAL_MESSAGE_LIMIT=50

# –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
ENV=prod

# ========================================
# PRODUCTION OVERRIDES
# ========================================
# –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞ —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ:

# ENVIRONMENT=production
# DEBUG=false
# DOMAIN=pixelchat.ru
# FRONTEND_URL=https://pixelchat.ru
# BACKEND_URL=https://pixelchat.ru
# CORS_ORIGINS=https://pixelchat.ru,https://www.pixelchat.ru
# DB_SSL_MODE=require
# SSL_REDIRECT=true
# SECURE_COOKIES=true
# RATE_LIMIT_REQUESTS=1000

# ========================================
# –í–ê–ñ–ù–´–ï –ò–ù–°–¢–†–£–ö–¶–ò–ò –ü–û –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò
# ========================================
# 
# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ó–ê–ú–ï–ù–ò–¢–ï –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–Ω–æ–º:
# 1. SECRET_KEY - python -c "import secrets; print(secrets.token_urlsafe(32))"
# 2. JWT_SECRET_KEY - python -c "import secrets; print(secrets.token_urlsafe(32))"
# 3. –í—Å–µ API –∫–ª—é—á–∏ –Ω–∞ –Ω–æ–≤—ã–µ
# 4. –í—Å–µ –ø–∞—Ä–æ–ª–∏ –Ω–∞ —Å–∏–ª—å–Ω—ã–µ
# 5. OAuth –∫–ª–∏–µ–Ω—Ç—ã –Ω–∞ –Ω–æ–≤—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
#
# ‚ö†Ô∏è –ù–ò–ö–û–ì–î–ê –ù–ï –ö–û–ú–ú–ò–¢–¨–¢–ï –°–ï–ö–†–ï–¢–´ –í GIT!
# ========================================

# ========================================
# üí≥ –¢–ò–ù–¨–ö–û–§–§ –ü–õ–ê–¢–ï–ñ–ò
# ========================================
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¢-–ë–∞–Ω–∫ –¥–ª—è –ø—Ä–∏–µ–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π

# –ö–ª—é—á–∏ –¢-–ë–∞–Ω–∫ (–ø–æ–ª—É—á–∏—Ç—å –Ω–∞ https://www.tbank.ru/kassa/)
TINKOFF_TERMINAL_KEY=TestTerminalKey123456
TINKOFF_SECRET_KEY=TestSecretKey789
TINKOFF_SANDBOX_MODE=true

# URLs –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ)
FRONTEND_URL=http://localhost:3000

# –õ–∏–º–∏—Ç—ã –ø–ª–∞—Ç–µ–∂–µ–π
TINKOFF_MIN_PAYMENT=100
TINKOFF_MAX_PAYMENT=50000

# ========================================