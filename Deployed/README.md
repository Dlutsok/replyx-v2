# Ð ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð¾ Ð¿Ð¾ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸ÑŽ ReplyX Ð² Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ðµ

## âš¡ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚ Ð½Ð° Ð½Ð¾Ð²Ð¾Ð¼ ÑÐµÑ€Ð²ÐµÑ€Ðµ (GHCR login, pull, compose up)

ÐÐ¸Ð¶Ðµ Ð¿Ð¾ÑˆÐ°Ð³Ð¾Ð²Ð¾ Ð¿Ð¾ÐºÐ°Ð·Ð°Ð½Ð¾, Ñ‡Ñ‚Ð¾ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð½Ð° Ñ‡Ð¸ÑÑ‚Ð¾Ð¼ ÑÐµÑ€Ð²ÐµÑ€Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð´Ñ‚ÑÐ½ÑƒÑ‚ÑŒ Ð¾Ð±Ñ€Ð°Ð·Ñ‹ Ð¸Ð· GHCR Ð¸ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ `Deployed/docker-compose.yml`.

1) Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Docker Ð¸ Compose plugin
```bash
sudo apt update && sudo apt install -y ca-certificates curl gnupg
sudo install -m 0755 -d /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(. /etc/os-release; echo $VERSION_CODENAME) stable" | sudo tee /etc/apt/sources.list.d/docker.list >/dev/null
sudo apt update && sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```

2) Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÐºÐ°Ñ‚Ð°Ð»Ð¾Ð³ Ð´ÐµÐ¿Ð»Ð¾Ñ Ð¸ Ð¿Ð¾Ð»Ð¾Ð¶Ð¸Ñ‚ÑŒ ÑÑŽÐ´Ð° Ð¿Ð°Ð¿ÐºÑƒ `Deployed/`
```bash
sudo mkdir -p /opt/replyx
# Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ A: ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¼Ð°ÑˆÐ¸Ð½Ñ‹
# scp -r Deployed/ user@server:/opt/replyx/Deployed
# Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ B: ÐºÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ Ð¸ Ð¿ÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð² ÐºÐ°Ñ‚Ð°Ð»Ð¾Ð³
# git clone https://github.com/Dlutsok/replyx.git /opt/replyx/src && cp -r /opt/replyx/src/Deployed /opt/replyx/Deployed
cd /opt/replyx/Deployed
```

3) (Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ) ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ñ‹Ð¹ login Ð² GHCR
```bash
# Ð•ÑÐ»Ð¸ Ñ€Ð°Ð½ÑŒÑˆÐµ Ð·Ð°Ð¿Ð¸ÑÐ°Ð»Ð¸ Ñ„Ð°Ð¹Ð» Ñ ÑƒÐ³Ð»Ð¾Ð²Ñ‹Ð¼Ð¸ ÑÐºÐ¾Ð±ÐºÐ°Ð¼Ð¸ â€” ÑƒÐ´Ð°Ð»Ð¸Ñ‚Ðµ ÐµÐ³Ð¾
sudo rm -f /etc/ghcr/ghcr.env 2>/dev/null || true

sudo install -d -m 0750 /etc/ghcr
sudo tee /etc/ghcr/ghcr.env >/dev/null <<'EOF'
GHCR_USERNAME=Dlutsok
GHCR_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
EOF
sudo chmod 600 /etc/ghcr/ghcr.env

# Ð›Ð¾Ð³Ð¸Ð½ Ð² GHCR (Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð¿Ð¾Ð´Ð°Ñ‘Ð¼ Ñ‡ÐµÑ€ÐµÐ· stdin, Ð±ÐµÐ· Ð¸Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð°)
set -a && source /etc/ghcr/ghcr.env && set +a
printf '%s' "$GHCR_TOKEN" | docker login ghcr.io -u "$GHCR_USERNAME" --password-stdin
```
ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ñ:
- Ð’Ð¼ÐµÑÑ‚Ð¾ `ghp_xxx` Ð²ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ ÐÐžÐ’Ð«Ð™ Ñ€Ð°Ð±Ð¾Ñ‡Ð¸Ð¹ Ñ‚Ð¾ÐºÐµÐ½ Ñ Ð¿Ñ€Ð°Ð²Ð°Ð¼Ð¸ `read:packages` (Ð±ÐµÐ· ÑƒÐ³Ð»Ð¾Ð²Ñ‹Ñ… ÑÐºÐ¾Ð±Ð¾Ðº). Ð•ÑÐ»Ð¸ ÑÑ‚Ð°Ñ€Ñ‹Ð¹ Ñ‚Ð¾ÐºÐµÐ½ Ð³Ð´Ðµâ€‘Ñ‚Ð¾ ÑÐ²ÐµÑ‚Ð¸Ð»ÑÑ â€” Ð¾Ñ‚Ð·Ð¾Ð²Ð¸Ñ‚Ðµ ÐµÐ³Ð¾ Ð² GitHub â†’ Settings â†’ Developer settings â†’ Tokens.
- Ð•ÑÐ»Ð¸ Ð¿Ð°ÐºÐµÑ‚Ñ‹ Ð² GHCR Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ, ÑˆÐ°Ð³ Ð»Ð¾Ð³Ð¸Ð½Ð° Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ñ€Ð¾Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ, Ð½Ð¾ Ð»ÑƒÑ‡ÑˆÐµ Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ â€” ÑÐ½Ð¸Ð¼Ð°ÐµÑ‚ rateâ€‘limit.

4) ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²Ð¸Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ `.env.production`
```bash
cd /opt/replyx/Deployed
sudo tee .env.production >/dev/null <<'EOF'
# ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ñ‚ÐµÐ³ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²
TAG=latest

# Ð‘ÑÐºÐµÐ½Ð´/Ð²Ð¾Ñ€ÐºÐµÑ€Ñ‹
DATABASE_URL=postgresql://user:pass@db:5432/replyx
REDIS_URL=redis://redis:6379/0
JWT_SECRET=change_me

# Ð¤Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´
PUBLIC_DOMAIN=your-domain.com
API_DOMAIN=api.your-domain.com
NEXT_PUBLIC_API_URL=https://api.your-domain.com
EOF
```

5) Ð—Ð°Ð¿ÑƒÑÐº (pull + up)
```bash
cd /opt/replyx/Deployed
docker compose -f docker-compose.yml config --quiet
docker compose pull
docker compose up -d

# ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ð‘Ð” (ÐµÑÐ»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ)
docker compose exec -T backend alembic upgrade head || true
```

6) (ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾) ÐÐ²Ñ‚Ð¾Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð¾ systemd
- Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ Ñ€Ð°Ð·Ð´ÐµÐ» Â«systemdÂ» Ð½Ð¸Ð¶Ðµ Ð¸Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹Ð¹ ÑÑ†ÐµÐ½Ð°Ñ€Ð¸Ð¹ Ð¸Ð· Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ (replyx-update.service / replyx-update.timer).

## ðŸŸ¢ Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð³Ð¾Ñ‚Ð¾Ð²Ð½Ð¾ÑÑ‚Ð¸ Ðº Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ñƒ

âœ… **CORS Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ** - Ð¡Ñ‚Ñ€Ð¾Ð³Ð¸Ðµ CORS Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð°  
âœ… **Ð›Ð¸Ð¼Ð¸Ñ‚Ñ‹ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²** - ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð°Ð¼ÑÑ‚Ð¸ Ð¸ CPU Ð´Ð»Ñ Ð²ÑÐµÑ… ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²  
âœ… **Ð¡Ñ‚Ñ€Ð¾Ð³Ð¸Ðµ Ñ‚ÐµÐ³Ð¸ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²** - Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ ${TAG} Ð²Ð¼ÐµÑÑ‚Ð¾ :latest  
âœ… **ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ** - ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ Ð²ÑÐµÑ… ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²  
âœ… **Ð˜Ð·Ð¾Ð»ÑÑ†Ð¸Ñ ÑÐµÑ‚ÐµÐ¹** - Ð˜Ð·Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Docker ÑÐµÑ‚Ð¸  
âœ… **Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸** - CSP, HSTS, X-Frame-Options, X-XSS-Protection  
âœ… **ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ ÑÐ±Ð¾Ñ€ÐºÐ¸** - Ð£Ð»ÑƒÑ‡ÑˆÐµÐ½Ð½Ñ‹Ðµ .dockerignore Ñ„Ð°Ð¹Ð»Ñ‹  
âœ… **Ð¡ÐºÐ°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸** - Trivy Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð² CI/CD  
âœ… **Ð’Ð½ÐµÑˆÐ½ÑÑ Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…** - PostgreSQL Ð½Ð° Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾Ð¼ ÑÐµÑ€Ð²ÐµÑ€Ðµ (192.168.0.4)

## ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ð¾Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ

**Ð’ÐÐ–ÐÐž**: Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð° Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ TAG!

```bash
# 1. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½ÑƒÑŽ Ñ‚ÐµÐ³Ð° (ÐžÐ‘Ð¯Ð—ÐÐ¢Ð•Ð›Ð¬ÐÐž!)
export TAG=v1.0.0

# 2. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ
cd Deployed/
chmod +x deploy.sh
./deploy.sh
```

## ðŸ“‹ ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ

### ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Docker Compose
- **Ð¢ÐµÐ³Ð¸ Ð¾Ð±Ñ€Ð°Ð·Ð¾Ð²**: Ð’ÑÐµ Ð¾Ð±Ñ€Ð°Ð·Ñ‹ Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ `ghcr.io/yourorg/replyx-*:${TAG}`
- **Ð›Ð¸Ð¼Ð¸Ñ‚Ñ‹ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²**: Ð–ÐµÑÑ‚ÐºÐ¸Ðµ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ Ð¿Ð°Ð¼ÑÑ‚Ð¸ Ð¸ CPU
- **ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ**: Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ñ‹ Ð´Ð»Ñ Ð²ÑÐµÑ… ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²
- **Ð¡ÐµÑ‚Ð¸**: ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð°Ñ Ð¸ Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑÑ Ð¸Ð·Ð¾Ð»ÑÑ†Ð¸Ñ

### âš ï¸ ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ
1. **ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ TAG**: ÐÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð° Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ `$TAG` Ð¿ÐµÑ€ÐµÐ´ Ð·Ð°Ð¿ÑƒÑÐºÐ¾Ð¼
2. **Ð’Ð½ÐµÑˆÐ½ÑÑ Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…**: Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… ÑƒÐ¶Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð° Ð½Ð° Ð²Ð½ÐµÑˆÐ½ÐµÐ¼ ÑÐµÑ€Ð²ÐµÑ€Ðµ
3. **ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° ÑÐµÑ‚ÐµÐ¹**: Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð° ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° ÑÐµÑ‚ÐµÐ¹

## âš™ï¸ ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

### ðŸ“ Ð¦ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð¾Ðµ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ð¼Ð¸
- **Ð•Ð´Ð¸Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸**: `Deployed/.env.production`
- **Ð’ÑÐµ ÑÐµÑ€Ð²Ð¸ÑÑ‹** (backend, workers, redis) Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ Ð¾Ð´Ð¸Ð½ Ñ„Ð°Ð¹Ð» Ñ‡ÐµÑ€ÐµÐ· `env_file`
- **Frontend** Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ NEXT_PUBLIC_ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ñ‡ÐµÑ€ÐµÐ· `environment`
- **Ð£Ð´Ð°Ð»ÐµÐ½Ñ‹ Ð´ÑƒÐ±Ð»Ð¸Ñ€ÑƒÑŽÑ‰Ð¸Ðµ** `.env.example` Ñ„Ð°Ð¹Ð»Ñ‹ Ð¸Ð· Ð¿Ð°Ð¿Ð¾Ðº ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²

### ðŸ”— ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ:
```yaml
# docker-compose.yml
backend:
  env_file: .env.production  # Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ Ð’Ð¡Ð• Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ

workers:  
  env_file: .env.production  # Ð¢Ð¾Ñ‚ Ð¶Ðµ Ñ„Ð°Ð¹Ð»

frontend:
  environment:              # Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ
    - NEXT_PUBLIC_API_URL=https://replyx.ru
```

## ðŸ”§ Ð Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²

```
ÐžÐ±Ñ‰Ð°Ñ Ð¿Ð°Ð¼ÑÑ‚ÑŒ: ~3Ð“Ð‘
ÐžÐ±Ñ‰Ð¸Ð¹ CPU: ~2.5 ÑÐ´Ñ€Ð°

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ð¡ÐµÑ€Ð²Ð¸Ñ      â”‚ ÐŸÐ°Ð¼ÑÑ‚ÑŒ  â”‚ CPU     â”‚ ÐŸÐ¾Ñ€Ñ‚         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Backend     â”‚ 1024ÐœÐ‘  â”‚ 1.0     â”‚ 8000         â”‚
â”‚ Frontend    â”‚ 512ÐœÐ‘   â”‚ 0.5     â”‚ 3000         â”‚
â”‚ Workers     â”‚ 768ÐœÐ‘   â”‚ 0.75    â”‚ 8443, 3002   â”‚
â”‚ Redis       â”‚ 512ÐœÐ‘   â”‚ 0.25    â”‚ 6379         â”‚
â”‚ Nginx       â”‚ 256ÐœÐ‘   â”‚ 0.25    â”‚ 80, 443      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ—„ï¸ ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ… (Ð²Ð½ÐµÑˆÐ½ÑÑ)

**ÐÐÐ¡Ð¢Ð ÐžÐ•ÐÐž**: Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… ÑƒÐ¶Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð°!
```
Ð¥Ð¾ÑÑ‚: 192.168.0.4
ÐŸÐ¾Ñ€Ñ‚: 5432
Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…: replyx_production
ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ: gen_user
ÐŸÐ°Ñ€Ð¾Ð»ÑŒ: [ÐÐÐ¡Ð¢Ð ÐžÐ•Ð Ð’ .env.production]
SSL Ñ€ÐµÐ¶Ð¸Ð¼: require
```

âŒ **ÐÐ• Ð·Ð°Ð¿ÑƒÑÐºÐ°Ð¹Ñ‚Ðµ init-db.sh** - Ð±Ð°Ð·Ð° ÑƒÐ¶Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð° Ð½Ð° Ð²Ð½ÐµÑˆÐ½ÐµÐ¼ ÑÐµÑ€Ð²ÐµÑ€Ðµ!

## ðŸ“¦ ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° ÑÐµÑ‚ÐµÐ¹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð°Ñ ÑÐµÑ‚ÑŒ               â”‚
â”‚         (172.20.0.0/24)                â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚         Nginx (80/443)              â”‚â”‚
â”‚  â”‚    SSL + Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Ð’Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑÑ ÑÐµÑ‚ÑŒ                â”‚
â”‚         (172.21.0.0/24)                â”‚
â”‚                â”‚                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚     â”‚       â”‚        â”‚        â”‚      â”‚
â”‚â”Œâ”€â–¼â”€â”€â”€â”â”‚â”Œâ”€â”€â”€â”€â–¼â”€â”â”‚â”Œâ”€â”€â”€â”€â”€â–¼â”€â”â”‚â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”   â”‚
â”‚â”‚Frontâ”‚â”‚â”‚â”‚Back  â”‚â”‚â”‚Workersâ”‚â”‚â”‚ Redis  â”‚   â”‚
â”‚â”‚:3000â”‚â”‚â”‚:8000 â”‚â”‚â”‚:8443  â”‚â”‚â”‚ :6379  â”‚   â”‚
â”‚â””â”€â”€â”€â”€â”€â”˜â”‚â””â”€â”€â”€â”€â”€â”€â”˜â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Ð’Ð½ÐµÑˆÐ½ÑÑ Ð‘Ð”     â”‚
         â”‚192.168.0.4:5432â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ”‘ Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

### âœ… Ð“Ð¾Ñ‚Ð¾Ð²Ð¾ Ðº Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ñƒ:
- âœ… SECRET_KEY: `QwGNF...` (32+ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°)
- âœ… JWT_SECRET_KEY: `exF6Z...` (32+ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°) 
- âœ… DATABASE_URL: Ð’Ð½ÐµÑˆÐ½ÑÑ PostgreSQL Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð°
- âœ… REDIS_PASSWORD: `EGpdW...` (ÑÐ»Ð¾Ð¶Ð½Ñ‹Ð¹)
- âœ… OPENAI_API_KEY: `sk-proj...` (Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ñ Ð¿Ñ€Ð¾ÐºÑÐ¸)
- âœ… TELEGRAM_BOT_TOKEN: `8088014627:AAG4...`
- âœ… YANDEX_SMTP: ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½ Ñ Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ
- âœ… CORS_ORIGINS: `https://replyx.ru,https://www.replyx.ru`

### âš ï¸ Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ Ñ€ÑƒÑ‡Ð½Ð¾Ð³Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ:
- `YANDEX_CLIENT_ID`: `CHANGEME_PRODUCTION_YANDEX_CLIENT_ID`
- `YANDEX_CLIENT_SECRET`: `CHANGEME_PRODUCTION_YANDEX_CLIENT_SECRET`

### ðŸ“§ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° OAuth:
1. ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð½Ð° https://oauth.yandex.ru/
2. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð´Ð»Ñ `replyx.ru`
3. Ð£ÐºÐ°Ð¶Ð¸Ñ‚Ðµ callback: `https://replyx.ru/api/auth/yandex/callback`
4. ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚Ðµ .env.production:
   ```bash
   YANDEX_CLIENT_ID=Ð²Ð°Ñˆ_Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¹_client_id
   YANDEX_CLIENT_SECRET=Ð²Ð°Ñˆ_Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¹_client_secret
   ```

## ðŸš€ ÐŸÑ€Ð¾Ñ†ÐµÑÑ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ

### ÐœÐµÑ‚Ð¾Ð´ 1: ÐŸÐ¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ
```bash
export TAG=v1.0.0
cd Deployed/
./deploy.sh
```

### ÐœÐµÑ‚Ð¾Ð´ 2: ÐŸÐ¾ÑˆÐ°Ð³Ð¾Ð²Ð¾Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ
```bash
export TAG=v1.0.0  # ÐžÐ‘Ð¯Ð—ÐÐ¢Ð•Ð›Ð¬ÐÐž!
cd Deployed/

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ
docker-compose config

# ÐŸÐ¾ÑÑ‚Ð°Ð¿Ð½Ñ‹Ð¹ Ð·Ð°Ð¿ÑƒÑÐº
docker-compose up -d redis
sleep 10

docker-compose up -d backend
sleep 30

docker-compose up -d workers
sleep 20

docker-compose up -d frontend
sleep 20

docker-compose up -d nginx
```

## ðŸ” Ð¢Ð¾Ñ‡ÐºÐ¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ

ÐŸÐ¾ÑÐ»Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ:

```bash
# Nginx (Ñ‡ÐµÑ€ÐµÐ· Ð±Ð°Ð»Ð°Ð½ÑÐ¸Ñ€Ð¾Ð²Ñ‰Ð¸Ðº Ð½Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸)
curl -f https://replyx.ru/health
# ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ: "healthy"

# Backend API
curl -f https://replyx.ru/api/health
# ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ: {"status":"healthy",...}

# Frontend
curl -f https://replyx.ru/
# ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ: HTML ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ð°

# Workers (Ñ‡ÐµÑ€ÐµÐ· Ð²Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑŽÑŽ ÑÐµÑ‚ÑŒ)
docker-compose exec nginx curl -f http://workers:3002/health
# ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ: {"status":"ok",...}
```

## ðŸ“Š ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð¸ Ð»Ð¾Ð³Ð¸

### Ð¡Ñ‚Ð°Ñ‚ÑƒÑ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð²:
```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ Ð²ÑÐµÑ… ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²
docker-compose ps

# Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²
docker stats

# Ð›Ð¾Ð³Ð¸ Ð²ÑÐµÑ… ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²
docker-compose logs -f

# Ð›Ð¾Ð³Ð¸ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ ÑÐµÑ€Ð²Ð¸ÑÐ°
docker-compose logs -f backend
```

### Ð Ð°ÑÐ¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð»Ð¾Ð³Ð¾Ð²:
- **ÐŸÑ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ**: Ð’Ð½ÑƒÑ‚Ñ€Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð²
- **Nginx**: `docker-compose logs nginx`
- **Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð°**: `/var/log/docker/`

## ðŸ”’ Ð ÐµÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸

### Ð ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²ÐºÐ¸:
```
Strict-Transport-Security: max-age=63072000
X-Frame-Options: DENY
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline' ...
```

### Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ ÑÐµÑ‚Ð¸:
- Ð’Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½ÑÑ ÑÐµÑ‚ÑŒ Ð¸Ð·Ð¾Ð»Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð°
- Ð¢Ð¾Ð»ÑŒÐºÐ¾ nginx Ð¸Ð¼ÐµÐµÑ‚ Ð²Ð½ÐµÑˆÐ½Ð¸Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿
- Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð½Ð° Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾Ð¼ Ð²Ð½ÐµÑˆÐ½ÐµÐ¼ ÑÐµÑ€Ð²ÐµÑ€Ðµ
- Redis Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸ Ð¿Ð¾ Ð¿Ð°Ñ€Ð¾Ð»ÑŽ

### Ð›Ð¸Ð¼Ð¸Ñ‚Ñ‹ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²:
- ÐžÑ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ swap (`memswap_limit = mem_limit`)
- Ð’ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¾ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ CPU
- ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº Ð¿Ñ€Ð¸ ÑÐ±Ð¾ÑÑ…
- ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ð³Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ

## ðŸš¨ Ð£ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð½ÐµÐ¿Ð¾Ð»Ð°Ð´Ð¾Ðº

### Ð§Ð°ÑÑ‚Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹ Ð¿Ð¾ÑÐ»Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¹:

1. **ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ TAG Ð½Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð°**:
   ```
   ERROR: Invalid interpolation format for "image" option
   ```
   Ð ÐµÑˆÐµÐ½Ð¸Ðµ: `export TAG=v1.0.0`

2. **ÐšÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚Ñ‹ ÑÐµÑ‚ÐµÐ¹**:
   ```bash
   # Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð»Ð¸ÐºÑ‚ÑƒÑŽÑ‰Ð¸Ðµ ÑÐµÑ‚Ð¸
   docker network prune
   ```

3. **ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²**:
   ```bash
   # ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½ÑƒÑŽ Ð¿Ð°Ð¼ÑÑ‚ÑŒ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ
   free -h
   # Ð”Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ 4Ð“Ð‘+ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾
   ```

4. **ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Ð±Ð°Ð·Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…**:
   ```bash
   # Ð¢ÐµÑÑ‚ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ðº Ð²Ð½ÐµÑˆÐ½ÐµÐ¹ Ð‘Ð”
   docker-compose exec backend python -c "
   import psycopg2
   conn = psycopg2.connect('postgresql://gen_user:q%3F%7C%3E7!gzi%2BS.jJ@192.168.0.4:5432/replyx_production')
   print('Ð‘Ð” Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð°!')
   "
   ```

### ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð´Ð»Ñ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¸:
```bash
# Ð’Ð½ÑƒÑ‚Ñ€ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¾Ð²
docker-compose exec backend bash
docker-compose exec workers bash

# Ð”Ð¸Ð°Ð³Ð½Ð¾ÑÑ‚Ð¸ÐºÐ° ÑÐµÑ‚ÐµÐ¹
docker network ls
docker network inspect replyx_public
docker network inspect replyx_internal

# Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²
docker stats --no-stream
```

## ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð¸ Ð¾Ð±ÑÐ»ÑƒÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ

### ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ:
```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ Ñ‚ÐµÐ³
export TAG=v1.1.0

# ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ Ð¾Ð±Ñ€Ð°Ð·Ñ‹ (ÐµÑÐ»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÑŽÑ‚ÑÑ Ð¾Ð±Ñ€Ð°Ð·Ñ‹ Ð¸Ð· CI/CD)
docker-compose pull

# ÐŸÐµÑ€ÐµÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹ Ñ Ð½Ð¾Ð²Ñ‹Ð¼Ð¸ Ð¾Ð±Ñ€Ð°Ð·Ð°Ð¼Ð¸
docker-compose up -d
```

### ÐœÐ¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ð±Ð°Ð·Ñ‹ Ð´Ð°Ð½Ð½Ñ‹Ñ…:
```bash
# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð¼Ð¸Ð³Ñ€Ð°Ñ†Ð¸Ð¸ Ð½Ð° Ð²Ð½ÐµÑˆÐ½ÐµÐ¹ Ð‘Ð”
docker-compose exec backend alembic upgrade head
```

## ðŸ“ž Ð­ÐºÑÑ‚Ñ€ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ñ†ÐµÐ´ÑƒÑ€Ñ‹

### Ð‘Ñ‹ÑÑ‚Ñ€Ð¾Ðµ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ:
```bash
docker-compose down
```

### ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº ÑÐµÑ€Ð²Ð¸ÑÐ°:
```bash
# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÑÐµÑ€Ð²Ð¸ÑÐ°
docker-compose restart backend

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº Ð²ÑÐµÑ… ÑÐµÑ€Ð²Ð¸ÑÐ¾Ð²
docker-compose restart
```

### ÐžÑ‚ÐºÐ°Ñ‚:
```bash
# ÐžÑ‚ÐºÐ°Ñ‚ Ðº Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¼Ñƒ Ñ‚ÐµÐ³Ñƒ
export TAG=v1.0.0
docker-compose up -d
```

---

**ðŸ“‹ Ð§ÐµÐº-Ð»Ð¸ÑÑ‚ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ:**
- [ ] ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ TAG ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð°
- [ ] .env.production Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐµÐ½
- [ ] Ð’Ð½ÐµÑˆÐ½ÑÑ Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð°
- [ ] DNS Ð´Ð¾Ð¼ÐµÐ½Ð° Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½
- [ ] SSL ÑÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹ Ð³Ð¾Ñ‚Ð¾Ð²Ñ‹
- [ ] Yandex OAuth Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½
- [ ] Ð’ÑÐµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÑ Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½Ñ‹