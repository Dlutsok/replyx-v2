# Tinkoff API URLs Configuration Guide

**–î–∞—Ç–∞:** 2025-09-11  
**–°—Ç–∞—Ç—É—Å:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ  
**–í–µ—Ä—Å–∏—è:** 1.0  

---

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ API URLs

### –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Tinkoff API –±—ã–ª–∞ –¥–æ–ø—É—â–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ –ª–æ–≥–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è URL –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤, —á—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ –æ—à–∏–±–∫–µ **501 "–¢–µ—Ä–º–∏–Ω–∞–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"** –≤ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥–µ.

### –ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã
**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Tinkoff:**
- –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª–æ—Å—å: —Ç–µ—Å—Ç–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª ‚Üí —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ä–µ–¥–∞
- **–†–µ–∞–ª—å–Ω–æ—Å—Ç—å:** —Ç–µ—Å—Ç–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª ‚Üí **–±–æ–µ–≤–∞—è —Å—Ä–µ–¥–∞**

---

## üìö –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ Tinkoff API URLs

### –°–æ–≥–ª–∞—Å–Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Tinkoff:

| –¢–∏–ø —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ | –°—É—Ñ—Ñ–∏–∫—Å | API URL | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|---------------|---------|---------|------------|
| **–¢–µ—Å—Ç–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª** | `DEMO` | `https://securepay.tinkoff.ru/v2/` | **–ë–æ–µ–≤–∞—è —Å—Ä–µ–¥–∞** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| **–ë–æ–µ–≤–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª** | –±–µ–∑ —Å—É—Ñ—Ñ–∏–∫—Å–∞ | `https://rest-api-test.tinkoff.ru/v2/` | **–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ä–µ–¥–∞** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ |
| **–ü—Ä–æ–¥–∞–∫—à–Ω —Ç–µ—Ä–º–∏–Ω–∞–ª** | –±–µ–∑ —Å—É—Ñ—Ñ–∏–∫—Å–∞ | `https://securepay.tinkoff.ru/v2/` | **–ë–æ–µ–≤–∞—è —Å—Ä–µ–¥–∞** –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π |

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤:
- **–¢–µ—Å—Ç–æ–≤—ã–π:** `1757348842151DEMO` ‚Üí `securepay.tinkoff.ru`
- **–ë–æ–µ–≤–æ–π:** `1757348842151` ‚Üí `rest-api-test.tinkoff.ru` (–¥–ª—è —Ç–µ—Å—Ç–æ–≤)
- **–ë–æ–µ–≤–æ–π:** `1757348842151` ‚Üí `securepay.tinkoff.ru` (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞)

---

## üîß –ù–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

```bash
# ==============================================
# TINKOFF API CONFIGURATION
# ==============================================

# –¢–ï–†–ú–ò–ù–ê–õ –ò –ö–õ–Æ–ß–ò
TINKOFF_TERMINAL_KEY=1757348842151DEMO
TINKOFF_SECRET_KEY=lczutIQhGoZoZrgW

# –†–ï–ñ–ò–ú –†–ê–ë–û–¢–´
# true = —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª + –±–æ–µ–≤–∞—è —Å—Ä–µ–¥–∞)
# false = –ø—Ä–æ–¥–∞–∫—à–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–æ–µ–≤–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª + –±–æ–µ–≤–∞—è —Å—Ä–µ–¥–∞)
TINKOFF_SANDBOX_MODE=true

# API URLs
TINKOFF_TEST_API_URL=https://securepay.tinkoff.ru/v2/
TINKOFF_PRODUCTION_API_URL=https://securepay.tinkoff.ru/v2/

# –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò
TINKOFF_MOCK_MODE=false
TINKOFF_DEBUG_LOGGING=true
TINKOFF_REQUEST_TIMEOUT=30

# CALLBACK URLs
TINKOFF_SUCCESS_URL=http://localhost:3000/payment/success
TINKOFF_FAIL_URL=http://localhost:3000/payment/error
TINKOFF_NOTIFICATION_URL=https://your-ngrok-url.ngrok-free.app/api/payments/tinkoff-notification

# –û–ö–†–£–ñ–ï–ù–ò–ï
ENVIRONMENT=development
```

### –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤ –∫–æ–¥–µ:

```python
# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ API URL –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∂–∏–º–∞
if TINKOFF_SANDBOX_MODE:
    # –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º: —Ç–µ—Å—Ç–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª + –±–æ–µ–≤–∞—è —Å—Ä–µ–¥–∞
    TINKOFF_API_URL = TINKOFF_TEST_API_URL
    TERMINAL_TYPE = "DEMO"
else:
    # –ü—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º: –±–æ–µ–≤–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª + –±–æ–µ–≤–∞—è —Å—Ä–µ–¥–∞
    TINKOFF_API_URL = TINKOFF_PRODUCTION_API_URL
    TERMINAL_TYPE = "PRODUCTION"
```

---

## üéØ –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
TINKOFF_SANDBOX_MODE=true
TINKOFF_TERMINAL_KEY=1757348842151DEMO
# ‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç securepay.tinkoff.ru —Å —Ç–µ—Å—Ç–æ–≤—ã–º —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º
```

### 2. –ü—Ä–æ–¥–∞–∫—à–Ω
```bash
TINKOFF_SANDBOX_MODE=false
TINKOFF_TERMINAL_KEY=1757348842151
# ‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç securepay.tinkoff.ru —Å –±–æ–µ–≤—ã–º —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–º
```

### 3. –û—Ç–ª–∞–¥–∫–∞ (Mock —Ä–µ–∂–∏–º)
```bash
TINKOFF_SANDBOX_MODE=true
TINKOFF_MOCK_MODE=true
# ‚Üí –≠–º—É–ª–∏—Ä—É–µ—Ç –ø–ª–∞—Ç–µ–∂–∏ –±–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ API
```

---

## üìã –ú–∏–≥—Ä–∞—Ü–∏—è —Å —Å—Ç–∞—Ä–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ß—Ç–æ –±—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
```python
TINKOFF_SANDBOX_API_URL = 'https://rest-api-test.tinkoff.ru/v2/'  # ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ!
TINKOFF_PRODUCTION_API_URL = 'https://securepay.tinkoff.ru/v2/'
```

### –ß—Ç–æ —Å—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
```python
TINKOFF_TEST_API_URL = 'https://securepay.tinkoff.ru/v2/'         # ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!
TINKOFF_PRODUCTION_API_URL = 'https://securepay.tinkoff.ru/v2/'
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### 1. –¢–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã
–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã Tinkoff:
- **–£—Å–ø–µ—à–Ω–∞—è –æ–ø–ª–∞—Ç–∞:** `2200000000000004`
- **–û—Ç–∫–ª–æ–Ω–µ–Ω –±–∞–Ω–∫–æ–º:** `2200000000000012`
- **3DS –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:** `2200000000000020`

### 2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å webhook'–æ–≤
**–ò–ó–ú–ï–ù–ï–ù–û 2025-09-11:** –£–±—Ä–∞–Ω–∞ —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ IP –¥–ª—è webhook'–æ–≤
- **–ü—Ä–∏—á–∏–Ω–∞:** IP –∞–¥—Ä–µ—Å–∞ T-Bank –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å—Å—è –±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª–∞–≥–∞–µ–º—Å—è –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–ø–∏—Å–∏ (—Ç–æ–∫–µ–Ω–∞) –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω—É—é –∑–∞—â–∏—Ç—É
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ü–æ–¥–ø–∏—Å—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SECRET_KEY

### 3. Webhook URL
–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã–π URL –¥–ª—è webhook'–æ–≤ (ngrok, tunneling service).

### 4. –û—Ç–ª–∞–¥–∫–∞ webhook'–æ–≤
–ï—Å–ª–∏ –ø–ª–∞—Ç–µ–∂–∏ –Ω–µ –ø–æ–ø–æ–ª–Ω—è—é—Ç –±–∞–ª–∞–Ω—Å:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç webhook'–æ–≤ –æ—Ç T-Bank
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ TINKOFF_NOTIFICATION_URL –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `test_webhook_manual.py` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ webhook'–æ–≤

---

## üîÑ –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–æ–≤

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `TINKOFF_SANDBOX_MODE=true`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `TINKOFF_TERMINAL_KEY` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—É—Ñ—Ñ–∏–∫—Å `DEMO`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
4. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –∫–∞—Ä—Ç–∞–º–∏

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `TINKOFF_SANDBOX_MODE=false`
2. –ó–∞–º–µ–Ω–∏—Ç–µ `TINKOFF_TERMINAL_KEY` –Ω–∞ –±–æ–µ–≤–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª (–±–µ–∑ `DEMO`)
3. –û–±–Ω–æ–≤–∏—Ç–µ `TINKOFF_SECRET_KEY` –Ω–∞ –±–æ–µ–≤–æ–π –∫–ª—é—á
4. –û–±–Ω–æ–≤–∏—Ç–µ callback URL –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω –¥–æ–º–µ–Ω—ã
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏

**Tinkoff Business:**
- –¢–µ–ª–µ—Ñ–æ–Ω: 8-800-755-75-49
- Email: business.welcome@tinkoff.ru
- –ß–∞—Ç –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ T-Bank Business

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

| –î–∞—Ç–∞ | –í–µ—Ä—Å–∏—è | –ò–∑–º–µ–Ω–µ–Ω–∏—è |
|------|--------|-----------|
| 2025-09-11 | 1.0 | –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏ —Å API URLs |

---

**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –í –ø—Ä–æ—Ü–µ—Å—Å–µ  
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
